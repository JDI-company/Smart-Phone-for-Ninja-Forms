I. Documentation for submitFormInitialize function

Description
The submitFormInitialize function is responsible for initializing and configuring the international telephone input plugin (intlTelInput) on a given parent element.
It finds all input elements of type "tel" within the parent element and applies the plugin to them individually.

Parameters
$parentElement (jQuery object): The parent element within which the telephone input elements are located.

Function Flow
1.Find all input elements of type "tel" within the $parentElement.
2.For each telephone input element:
Retrieve configuration options from the data attributes of the input element.

Modify the onlyCountries and excludeCountries options based on the provided values.

Create a function for IP lookup if enabled, which retrieves the user's country code from an external service.

Initialize the intlTelInput plugin on the input element with the extracted configuration options.



II. Documentation for initSPN function

Description
The initSPN function serves as an initializer for the telephone input feature in a form. It listens to events triggered by the form rendering and field value changes, and performs necessary actions accordingly.

Function Flow
1.Define an initInputOnFormLoad Marionette object that listens to the form rendering event (render:view) and initializes the telephone input plugin on the form's input elements.
When the form view is rendered, the initInputOnFormLoad object finds the parent element of the form and initializes the intlTelInput plugin on the telephone input elements within it.
It also sets up a mutation observer to reinitialize the plugin on any future changes to the parent element or its child elements.
2.Create a new instance of the initInputOnFormLoad object to start listening to events.
3.Define a syncPhoneNumber Marionette object that listens to field value changes and form submission events.
When a field value changes and the field type is "spn" (telephone input), the syncPhoneNumber object retrieves the country code and input value, and updates a hidden input field accordingly.
Before form submission, the syncPhoneNumber object sets the field value to the value stored in the hidden input field.
4.Create a new instance of the syncPhoneNumber object to start listening to events.
5.Invoke the initSPN function to initialize the telephone input feature in the form.