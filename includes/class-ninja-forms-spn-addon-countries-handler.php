<?php

/**
 * Define the countries handler
 *
 * @link       https://jdi.company
 * @since      1.0.0
 *
 * @package    Ninja_Forms_Spn_Addon
 * @subpackage Ninja_Forms_Spn_Addon/includes
 */

/**
 * Define the countries handler.
 *
 * @since      1.0.0
 * @package    Ninja_Forms_Spn_Addon
 * @subpackage Ninja_Forms_Spn_Addon/includes
 * @author     JDI <yaroslav.borodii@jdi.company>
 */
class Ninja_Forms_Spn_Addon_Countries_Handler {
	protected $countries = array( array( 'Afghanistan (‫افغانستان‬‎)', 'af', '93' ), array( 'Albania (Shqipëri)', 'al', '355' ), array( 'Algeria (‫الجزائر‬‎)', 'dz', '213' ), array( 'American Samoa', 'as', '1', 5, array( '684' ) ), array( 'Andorra', 'ad', '376' ), array( 'Angola', 'ao', '244' ), array( 'Anguilla', 'ai', '1', 6, array( '264' ) ), array( 'Antigua and Barbuda', 'ag', '1', 7, array( '268' ) ), array( 'Argentina', 'ar', '54' ), array( 'Armenia (Հայաստան)', 'am', '374' ), array( 'Aruba', 'aw', '297' ), array( 'Ascension Island', 'ac', '247' ), array( 'Australia', 'au', '61', 0 ), array( 'Austria (Österreich)', 'at', '43' ), array( 'Azerbaijan (Azərbaycan)', 'az', '994' ), array( 'Bahamas', 'bs', '1', 8, array( '242' ) ), array( 'Bahrain (‫البحرين‬‎)', 'bh', '973' ), array( 'Bangladesh (বাংলাদেশ)', 'bd', '880' ), array( 'Barbados', 'bb', '1', 9, array( '246' ) ), array( 'Belarus (Беларусь)', 'by', '375' ), array( 'Belgium (België)', 'be', '32' ), array( 'Belize', 'bz', '501' ), array( 'Benin (Bénin)', 'bj', '229' ), array( 'Bermuda', 'bm', '1', 10, array( '441' ) ), array( 'Bhutan (འབྲུག)', 'bt', '975' ), array( 'Bolivia', 'bo', '591' ), array( 'Bosnia and Herzegovina (Босна и Херцеговина)', 'ba', '387' ), array( 'Botswana', 'bw', '267' ), array( 'Brazil (Brasil)', 'br', '55' ), array( 'British Indian Ocean Territory', 'io', '246' ), array( 'British Virgin Islands', 'vg', '1', 11, array( '284' ) ), array( 'Brunei', 'bn', '673' ), array( 'Bulgaria (България)', 'bg', '359' ), array( 'Burkina Faso', 'bf', '226' ), array( 'Burundi (Uburundi)', 'bi', '257' ), array( 'Cambodia (កម្ពុជា)', 'kh', '855' ), array( 'Cameroon (Cameroun)', 'cm', '237' ), array( 'Canada', 'ca', '1', 1, array( '204', '226', '236', '249', '250', '289', '306', '343', '365', '387', '403', '416', '418', '431', '437', '438', '450', '506', '514', '519', '548', '579', '581', '587', '604', '613', '639', '647', '672', '705', '709', '742', '778', '780', '782', '807', '819', '825', '867', '873', '902', '905' ) ), array( 'Cape Verde (Kabu Verdi)', 'cv', '238' ), array( 'Caribbean Netherlands', 'bq', '599', 1, array( '3', '4', '7' ) ), array( 'Cayman Islands', 'ky', '1', 12, array( '345' ) ), array( 'Central African Republic (République centrafricaine)', 'cf', '236' ), array( 'Chad (Tchad)', 'td', '235' ), array( 'Chile', 'cl', '56' ), array( 'China (中国)', 'cn', '86' ), array( 'Christmas Island', 'cx', '61', 2, array( '89164' ) ), array( 'Cocos (Keeling) Islands', 'cc', '61', 1, array( '89162' ) ), array( 'Colombia', 'co', '57' ), array( 'Comoros (‫جزر القمر‬‎)', 'km', '269' ), array( 'Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)', 'cd', '243' ), array( 'Congo (Republic) (Congo-Brazzaville)', 'cg', '242' ), array( 'Cook Islands', 'ck', '682' ), array( 'Costa Rica', 'cr', '506' ), array( 'Côte d’Ivoire', 'ci', '225' ), array( 'Croatia (Hrvatska)', 'hr', '385' ), array( 'Cuba', 'cu', '53' ), array( 'Curaçao', 'cw', '599', 0 ), array( 'Cyprus (Κύπρος)', 'cy', '357' ), array( 'Czech Republic (Česká republika)', 'cz', '420' ), array( 'Denmark (Danmark)', 'dk', '45' ), array( 'Djibouti', 'dj', '253' ), array( 'Dominica', 'dm', '1', 13, array( '767' ) ), array( 'Dominican Republic (República Dominicana)', 'do', '1', 2, array( '809', '829', '849' ) ), array( 'Ecuador', 'ec', '593' ), array( 'Egypt (‫مصر‬‎)', 'eg', '20' ), array( 'El Salvador', 'sv', '503' ), array( 'Equatorial Guinea (Guinea Ecuatorial)', 'gq', '240' ), array( 'Eritrea', 'er', '291' ), array( 'Estonia (Eesti)', 'ee', '372' ), array( 'Eswatini', 'sz', '268' ), array( 'Ethiopia', 'et', '251' ), array( 'Falkland Islands (Islas Malvinas)', 'fk', '500' ), array( 'Faroe Islands (Føroyar)', 'fo', '298' ), array( 'Fiji', 'fj', '679' ), array( 'Finland (Suomi)', 'fi', '358', 0 ), array( 'France', 'fr', '33' ), array( 'French Guiana (Guyane française)', 'gf', '594' ), array( 'French Polynesia (Polynésie française)', 'pf', '689' ), array( 'Gabon', 'ga', '241' ), array( 'Gambia', 'gm', '220' ), array( 'Georgia (საქართველო)', 'ge', '995' ), array( 'Germany (Deutschland)', 'de', '49' ), array( 'Ghana (Gaana)', 'gh', '233' ), array( 'Gibraltar', 'gi', '350' ), array( 'Greece (Ελλάδα)', 'gr', '30' ), array( 'Greenland (Kalaallit Nunaat)', 'gl', '299' ), array( 'Grenada', 'gd', '1', 14, array( '473' ) ), array( 'Guadeloupe', 'gp', '590', 0 ), array( 'Guam', 'gu', '1', 15, array( '671' ) ), array( 'Guatemala', 'gt', '502' ), array( 'Guernsey', 'gg', '44', 1, array( '1481', '7781', '7839', '7911' ) ), array( 'Guinea (Guinée)', 'gn', '224' ), array( 'Guinea-Bissau (Guiné Bissau)', 'gw', '245' ), array( 'Guyana', 'gy', '592' ), array( 'Haiti', 'ht', '509' ), array( 'Honduras', 'hn', '504' ), array( 'Hong Kong (香港)', 'hk', '852' ), array( 'Hungary (Magyarország)', 'hu', '36' ), array( 'Iceland (Ísland)', 'is', '354' ), array( 'India (भारत)', 'in', '91' ), array( 'Indonesia', 'id', '62' ), array( 'Iran (‫ایران‬‎)', 'ir', '98' ), array( 'Iraq (‫العراق‬‎)', 'iq', '964' ), array( 'Ireland', 'ie', '353' ), array( 'Isle of Man', 'im', '44', 2, array( '1624', '74576', '7524', '7924', '7624' ) ), array( 'Israel (‫ישראל‬‎)', 'il', '972' ), array( 'Italy (Italia)', 'it', '39', 0 ), array( 'Jamaica', 'jm', '1', 4, array( '876', '658' ) ), array( 'Japan (日本)', 'jp', '81' ), array( 'Jersey', 'je', '44', 3, array( '1534', '7509', '7700', '7797', '7829', '7937' ) ), array( 'Jordan (‫الأردن‬‎)', 'jo', '962' ), array( 'Kazakhstan (Казахстан)', 'kz', '7', 1, array( '33', '7' ) ), array( 'Kenya', 'ke', '254' ), array( 'Kiribati', 'ki', '686' ), array( 'Kosovo', 'xk', '383' ), array( 'Kuwait (‫الكويت‬‎)', 'kw', '965' ), array( 'Kyrgyzstan (Кыргызстан)', 'kg', '996' ), array( 'Laos (ລາວ)', 'la', '856' ), array( 'Latvia (Latvija)', 'lv', '371' ), array( 'Lebanon (‫لبنان‬‎)', 'lb', '961' ), array( 'Lesotho', 'ls', '266' ), array( 'Liberia', 'lr', '231' ), array( 'Libya (‫ليبيا‬‎)', 'ly', '218' ), array( 'Liechtenstein', 'li', '423' ), array( 'Lithuania (Lietuva)', 'lt', '370' ), array( 'Luxembourg', 'lu', '352' ), array( 'Macau (澳門)', 'mo', '853' ), array( 'North Macedonia (Македонија)', 'mk', '389' ), array( 'Madagascar (Madagasikara)', 'mg', '261' ), array( 'Malawi', 'mw', '265' ), array( 'Malaysia', 'my', '60' ), array( 'Maldives', 'mv', '960' ), array( 'Mali', 'ml', '223' ), array( 'Malta', 'mt', '356' ), array( 'Marshall Islands', 'mh', '692' ), array( 'Martinique', 'mq', '596' ), array( 'Mauritania (‫موريتانيا‬‎)', 'mr', '222' ), array( 'Mauritius (Moris)', 'mu', '230' ), array( 'Mayotte', 'yt', '262', 1, array( '269', '639' ) ), array( 'Mexico (México)', 'mx', '52' ), array( 'Micronesia', 'fm', '691' ), array( 'Moldova (Republica Moldova)', 'md', '373' ), array( 'Monaco', 'mc', '377' ), array( 'Mongolia (Монгол)', 'mn', '976' ), array( 'Montenegro (Crna Gora)', 'me', '382' ), array( 'Montserrat', 'ms', '1', 16, array( '664' ) ), array( 'Morocco (‫المغرب‬‎)', 'ma', '212', 0 ), array( 'Mozambique (Moçambique)', 'mz', '258' ), array( 'Myanmar (Burma) (မြန်မာ)', 'mm', '95' ), array( 'Namibia (Namibië)', 'na', '264' ), array( 'Nauru', 'nr', '674' ), array( 'Nepal (नेपाल)', 'np', '977' ), array( 'Netherlands (Nederland)', 'nl', '31' ), array( 'New Caledonia (Nouvelle-Calédonie)', 'nc', '687' ), array( 'New Zealand', 'nz', '64' ), array( 'Nicaragua', 'ni', '505' ), array( 'Niger (Nijar)', 'ne', '227' ), array( 'Nigeria', 'ng', '234' ), array( 'Niue', 'nu', '683' ), array( 'Norfolk Island', 'nf', '672' ), array( 'North Korea (조선 민주주의 인민 공화국)', 'kp', '850' ), array( 'Northern Mariana Islands', 'mp', '1', 17, array( '670' ) ), array( 'Norway (Norge)', 'no', '47', 0 ), array( 'Oman (‫عُمان‬‎)', 'om', '968' ), array( 'Pakistan (‫پاکستان‬‎)', 'pk', '92' ), array( 'Palau', 'pw', '680' ), array( 'Palestine (‫فلسطين‬‎)', 'ps', '970' ), array( 'Panama (Panamá)', 'pa', '507' ), array( 'Papua New Guinea', 'pg', '675' ), array( 'Paraguay', 'py', '595' ), array( 'Peru (Perú)', 'pe', '51' ), array( 'Philippines', 'ph', '63' ), array( 'Poland (Polska)', 'pl', '48' ), array( 'Portugal', 'pt', '351' ), array( 'Puerto Rico', 'pr', '1', 3, array( '787', '939' ) ), array( 'Qatar (‫قطر‬‎)', 'qa', '974' ), array( 'Réunion (La Réunion)', 're', '262', 0 ), array( 'Romania (România)', 'ro', '40' ), array( 'Russia (Россия)', 'ru', '7', 0 ), array( 'Rwanda', 'rw', '250' ), array( 'Saint Barthélemy', 'bl', '590', 1 ), array( 'Saint Helena', 'sh', '290' ), array( 'Saint Kitts and Nevis', 'kn', '1', 18, array( '869' ) ), array( 'Saint Lucia', 'lc', '1', 19, array( '758' ) ), array( 'Saint Martin (Saint-Martin (partie française))', 'mf', '590', 2 ), array( 'Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)', 'pm', '508' ), array( 'Saint Vincent and the Grenadines', 'vc', '1', 20, array( '784' ) ), array( 'Samoa', 'ws', '685' ), array( 'San Marino', 'sm', '378' ), array( 'São Tomé and Príncipe (São Tomé e Príncipe)', 'st', '239' ), array( 'Saudi Arabia (‫المملكة العربية السعودية‬‎)', 'sa', '966' ), array( 'Senegal (Sénégal)', 'sn', '221' ), array( 'Serbia (Србија)', 'rs', '381' ), array( 'Seychelles', 'sc', '248' ), array( 'Sierra Leone', 'sl', '232' ), array( 'Singapore', 'sg', '65' ), array( 'Sint Maarten', 'sx', '1', 21, array( '721' ) ), array( 'Slovakia (Slovensko)', 'sk', '421' ), array( 'Slovenia (Slovenija)', 'si', '386' ), array( 'Solomon Islands', 'sb', '677' ), array( 'Somalia (Soomaaliya)', 'so', '252' ), array( 'South Africa', 'za', '27' ), array( 'South Korea (대한민국)', 'kr', '82' ), array( 'South Sudan (‫جنوب السودان‬‎)', 'ss', '211' ), array( 'Spain (España)', 'es', '34' ), array( 'Sri Lanka (ශ්‍රී ලංකාව)', 'lk', '94' ), array( 'Sudan (‫السودان‬‎)', 'sd', '249' ), array( 'Suriname', 'sr', '597' ), array( 'Svalbard and Jan Mayen', 'sj', '47', 1, array( '79' ) ), array( 'Sweden (Sverige)', 'se', '46' ), array( 'Switzerland (Schweiz)', 'ch', '41' ), array( 'Syria (‫سوريا‬‎)', 'sy', '963' ), array( 'Taiwan (台灣)', 'tw', '886' ), array( 'Tajikistan', 'tj', '992' ), array( 'Tanzania', 'tz', '255' ), array( 'Thailand (ไทย)', 'th', '66' ), array( 'Timor-Leste', 'tl', '670' ), array( 'Togo', 'tg', '228' ), array( 'Tokelau', 'tk', '690' ), array( 'Tonga', 'to', '676' ), array( 'Trinidad and Tobago', 'tt', '1', 22, array( '868' ) ), array( 'Tunisia (‫تونس‬‎)', 'tn', '216' ), array( 'Turkey (Türkiye)', 'tr', '90' ), array( 'Turkmenistan', 'tm', '993' ), array( 'Turks and Caicos Islands', 'tc', '1', 23, array( '649' ) ), array( 'Tuvalu', 'tv', '688' ), array( 'U.S. Virgin Islands', 'vi', '1', 24, array( '340' ) ), array( 'Uganda', 'ug', '256' ), array( 'Ukraine (Україна)', 'ua', '380' ), array( 'United Arab Emirates (‫الإمارات العربية المتحدة‬‎)', 'ae', '971' ), array( 'United Kingdom', 'gb', '44', 0 ), array( 'United States', 'us', '1', 0 ), array( 'Uruguay', 'uy', '598' ), array( 'Uzbekistan (Oʻzbekiston)', 'uz', '998' ), array( 'Vanuatu', 'vu', '678' ), array( 'Vatican City (Città del Vaticano)', 'va', '39', 1, array( '06698' ) ), array( 'Venezuela', 've', '58' ), array( 'Vietnam (Việt Nam)', 'vn', '84' ), array( 'Wallis and Futuna (Wallis-et-Futuna)', 'wf', '681' ), array( 'Western Sahara (‫الصحراء الغربية‬‎)', 'eh', '212', 1, array( '5288', '5289' ) ), array( 'Yemen (‫اليمن‬‎)', 'ye', '967' ), array( 'Zambia', 'zm', '260' ), array( 'Zimbabwe', 'zw', '263' ), array( 'Åland Islands', 'ax', '358', 1, array( '18' ) ) );

	/**
	 * Get countries for the plugin.
	 * @since 1.0.0
	 *
	 * @param boolean   $formating      Optional. Restructuring the data to be objects or no. Default true
	 * @param array     $exclude_values Optional. Values that have to be excluded. Default empty.
	 * @return array                                        Array of countries
	 * @access public
	*/
	public function get_countries( $formating = true, $exclude_values = array() ) {
		// Country properties
		$values = array( 'name', 'iso2', 'dialCode', 'priority', 'areaCodes' );

		// Filter country properties
		$values = array_diff( $values, $exclude_values );

		// If no need formating
		if ( ! $formating ) {
			return $this->countries;
		}

		$formatted_countries = array();

		// Loop over all of the countries above, restructuring the data to be objects with named keys
		foreach ( $this->countries as $country ) {

			$formatted_countries[] = array(
				'name'      => $country[0],
				'iso2'      => $country[1],
				'dialCode'  => $country[2],
				'priority'  => ( ! empty( $country[3] ) ) ? $country[3] : 0,
				'areaCodes' => ( ! empty( $country[4] ) ) ? $country[4] : null,
			);

		}

		return ( $formatted_countries ) ? $formatted_countries : false;
	}
}
