(()=>{"use strict";var n,t={788:(n,t,e)=>{var o=["al","ad","at","by","be","ba","bg","hr","cz","dk","ee","fo","fi","fr","de","gi","gr","va","hu","is","ie","it","lv","li","lt","lu","mk","mt","md","mc","me","nl","no","pl","pt","ro","ru","sm","rs","sk","si","es","se","ch","ua","gb"];function i(n,t){return n.filter((function(n){return n!==t}))}var r=e(692),a=e(436),u=e(183);function l(n){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l(n)}function c(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,f(o.key),o)}}function f(n){var t=function(n,t){if("object"!=l(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,t||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==l(t)?t:t+""}var s=function(){return n=function n(t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$parentElement=jQuery(t)},(t=[{key:"init",value:function(){var n=this,t=this.getInputPath();jQuery(t).each((function(t,e){var o=jQuery(e),i=n.extractDataAttributes(o);n.initializeIntlTelInput(o,i)}))}},{key:"getInputPath",value:function(){return this.$parentElement.find('.spn-container input[type="tel"]')}},{key:"extractDataAttributes",value:function(n){var t=this.getOnlyCountries(n),e=this.getExcludeCountries(n),o=this.getIpLookUp(n,t.defaultCountry),i=n.data("country-order").split(","),r=Boolean(n.data("allow-dropdown")),a=Boolean(n.data("national-mode")),u=Boolean(n.data("auto-hide-dial-code")),l=Boolean(n.data("separate-dial-code")),c=Boolean(n.data("format-on-display")),f=Boolean(n.data("exclude-country-code-from-submission"));return{onlyCountries:t.onlyCountries,defaultCountry:t.defaultCountry,countryOrder:i,allowDropdown:r,nationalMode:a,autoHideDialCode:u,excludeCountries:e,allowIpLookUp:o,separateDialCode:l,formatOnDisplay:c,excludeCountryCodeFromSubmission:f}}},{key:"initializeIntlTelInput",value:function(n,t){a(n[0],{initialCountry:t.defaultCountry,countryOrder:t.countryOrder,onlyCountries:t.onlyCountries,allowDropdown:t.allowDropdown,nationalMode:t.nationalMode,autoHideDialCode:t.autoHideDialCode,excludeCountries:t.excludeCountries,geoIpLookup:t.allowIpLookUp,separateDialCode:t.separateDialCode,formatOnDisplay:t.formatOnDisplay,utilsScript:u.A})}},{key:"getOnlyCountries",value:function(n){var t=n.data("only-countries").split(","),e=n.data("default-country"),r=[a.getCountryData()].map((function(n){return n.iso2}));return t.includes("all")?t=(t=i(t,"all")).concat(r):t.includes("european")&&(t=(t=i(t,"european")).concat(o)),{onlyCountries:t,defaultCountry:e}}},{key:"getExcludeCountries",value:function(n){var t=n.data("exclude-countries");return t&&(t=t.split(",")),t}},{key:"getIpLookUp",value:function(n,t){var e=Boolean(n.data("allow-ip-lookup"));if(e){var o=n.data("ip-lookup-api-key");e=function(n,e){var i="https://ipinfo.io",a={token:null!=o?o:""};a&&(i+="?"+new URLSearchParams(a).toString()),r.get(i,(function(){}),"jsonp").always((function(e){var o=e&&e.country?e.country:t;n(o)}))},t="auto"}else e=function(){return null};return e}}])&&c(n.prototype,t),e&&c(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e}();function d(n){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d(n)}function p(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,y(o.key),o)}}function y(n){var t=function(n,t){if("object"!=d(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,t||"default");if("object"!=d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==d(t)?t:t+""}var v=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},e=[{key:"initInputFilter",value:function(n){n&&n.on("input",(function(){var n=r(this).val().replace(/[^\d+]/g,"");r(this).val(n)}))}},{key:"ITIValidation",value:function(n){if(n.attributes.element_templates.includes("spn")){var t=r("#nf-form-"+n.attributes.formID+"-cont").find('.spn-container input[type="tel"]'),e=a.getInstance(t[0]);if("precise"===t.attr("data-validation-type")?e.isValidNumberPrecise():e.isValidNumber())i();else{var o=["Invalid number","Invalid number","Invalid number","Invalid number","Invalid number"][a.utils.getValidationError()];Backbone.Radio.channel("fields").request("add:error",n.get("id"),"spn-field-error",o),t.one("change",i)}}function i(){Backbone.Radio.channel("fields").request("remove:error",n.get("id"),"spn-field-error")}}}],(t=null)&&p(n.prototype,t),e&&p(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e}();function m(n){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},m(n)}function b(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(n){if("string"==typeof n)return h(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var o=0,i=function(){};return{s:i,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,u=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return a=n.done,n},e:function(n){u=!0,r=n},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw r}}}}function h(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=Array(t);e<t;e++)o[e]=n[e];return o}function g(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,w(o.key),o)}}function w(n){var t=function(n,t){if("object"!=m(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,t||"default");if("object"!=m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==m(t)?t:t+""}var k=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)},(t=[{key:"init",value:function(){this._listenTo(Backbone.Radio.channel("form"),"render:view",this.initInputOnFormLoad),this._listenTo(Backbone.Radio.channel("form"),"render:view",this.initAndUseIpLookUp),this._listenTo(Backbone.Radio.channel("form"),"render:view",this.initInputValidationOnFormLoad),this._listenTo(Backbone.Radio.channel("forms"),"submit:response",this._initInputOnFormSubmit),nfRadio.channel("nfMP").on("change:part",this.initInputOnChangePage),nfRadio.channel("nfMP").on("change:part",this.initAndUseIpLookUp),this._listenTo(Backbone.Radio.channel("fields"),"change:model",this.initInputOnConditionalLogic),this._listenTo(Backbone.Radio.channel("submit"),"validate:field",this.ITIValidationOnFormSubmit)}},{key:"initInputOnConditionalLogic",value:function(n){if("visible"in n.changed&&!0===n.changed.visible){var t="#nf-form-"+n.attributes.formID+"-cont";new s(t).init()}}},{key:"initAndUseIpLookUp",value:function(n){var t=new s,e=r(n.el).find('.spn-container input[type="tel"]');e.length<=0&&n.hasOwnProperty("formModel")&&(e=r("#nf-form-"+n.formModel.id+"-cont").find('.spn-container input[type="tel"]')),e.length<=0||t.getIpLookUp(e)((function(n){var t=document.querySelector(".iti__tel-input");window.getInstance(t).setCountry(n)}),(function(){console.error("Failed to retrieve country information")}))}},{key:"initInputOnChangePage",value:function(n){var t="#nf-form-"+n.formModel.id+"-cont";new s(t).init()}},{key:"initInputOnFormLoad",value:function(n){var t=n.el;new s(t).init()}},{key:"initInputValidationOnFormLoad",value:function(n){var t=r(n.el).find('.spn-container input[type="tel"]');v.initInputFilter(t)}},{key:"ITIValidationOnFormSubmit",value:function(n){v.ITIValidation(n)}},{key:"_initInputOnFormSubmit",value:function(n){if(!(n.errors.length>0)){var t=n.data,e=document.body,o=this;new MutationObserver((function(n,e){var i,r=b(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;if("childList"===a.type&&a.addedNodes.length>0&&"NF-FIELDS-WRAP"===a.target.tagName){var u=o._getNFNode(t.form_id);u&&new s(u).init(),e.disconnect()}}}catch(n){r.e(n)}finally{r.f()}})).observe(e,{childList:!0,subtree:!0})}}},{key:"_getNFNode",value:function(n){return r("#nf-form-".concat(n,"-cont"))}},{key:"_listenTo",value:function(n,t,e){n.on(t,e.bind(this))}}])&&g(n.prototype,t),e&&g(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e}();function I(n){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},I(n)}function S(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,O(o.key),o)}}function O(n){var t=function(n,t){if("object"!=I(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var o=e.call(n,t||"default");if("object"!=I(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==I(t)?t:t+""}var C=function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.$phoneHidden=null},(t=[{key:"syncWithSPN",value:function(){this._listenTo(Backbone.Radio.channel("fields"),"change:modelValue",this._syncHiddenInput),this._listenTo(Backbone.Radio.channel("fields"),"before:submit",this._submitNewPhoneNumber)}},{key:"_syncHiddenInput",value:function(n){if("spn"===n.get("type")&&""!==n.get("value")&&!isNaN(Number(n.get("value")))){var t,e=n.get("id"),o=jQuery("#nf-field-"+e),i=o.parents("nf-field");this.$phoneHidden=i.find("#nf-field-"+e+"-hidden");var r,a=null===(t=i.find(".iti__selected-country").attr("title").match(/[+\d]+/g))||void 0===t?void 0:t.join("");a||(a=null===(r=i.find(".iti__selected-country").text().match(/[+\d]+/g))||void 0===r?void 0:r.join(""));var u=i.find('input[type="tel"]#nf-field-'+e).data("exclude-country-code-from-submission");this.$phoneHidden.val(a+o.val()),"1"==u&&this.$phoneHidden.val(o.val())}}},{key:"_submitNewPhoneNumber",value:function(n){"spn"===n.get("type")&&this.$phoneHidden&&n.set("value",this.$phoneHidden.val())}},{key:"_listenTo",value:function(n,t,e){n.on(t,e.bind(this))}}])&&S(n.prototype,t),e&&S(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t,e}();(new k).init(),(new C).syncWithSPN()}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}o.m=t,n=[],o.O=(t,e,i,r)=>{if(!e){var a=1/0;for(f=0;f<n.length;f++){for(var[e,i,r]=n[f],u=!0,l=0;l<e.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((n=>o.O[n](e[l])))?e.splice(l--,1):(u=!1,r<a&&(a=r));if(u){n.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var f=n.length;f>0&&n[f-1][2]>r;f--)n[f]=n[f-1];n[f]=[e,i,r]},o.d=(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n={792:0};o.O.j=t=>0===n[t];var t=(t,e)=>{var i,r,[a,u,l]=e,c=0;if(a.some((t=>0!==n[t]))){for(i in u)o.o(u,i)&&(o.m[i]=u[i]);if(l)var f=l(o)}for(t&&t(e);c<a.length;c++)r=a[c],o.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return o.O(f)},e=self.webpackChunk=self.webpackChunk||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))})();var i=o.O(void 0,[96],(()=>o(788)));i=o.O(i)})();