(()=>{function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}Array.prototype.remove=function(t){return this.filter((function(n){return n!==t}))};var n,e=jQuery,o=(function(n){if(Array.isArray(n))return t(n)}(n=window.intlTelInputGlobals.getCountryData())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var o=Object.prototype.toString.call(n).slice(8,-1);return"Object"===o&&n.constructor&&(o=n.constructor.name),"Map"===o||"Set"===o?Array.from(n):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t.iso2})),i=["al","ad","at","by","be","ba","bg","hr","cz","dk","ee","fo","fi","fr","de","gi","gr","va","hu","is","ie","it","lv","li","lt","lu","mk","mt","md","mc","me","nl","no","pl","pt","ro","ru","sm","rs","sk","si","es","se","ch","ua","gb"];!function(){"use strict";e(window).on("load",(function(){var t=Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("form"),"render:view",this.initInputOnFormLoad)},initInputOnFormLoad:function(t){var n=e("#"+t.$el[0].id).find('.spn-container input[type="tel"]');e(n).each((function(){var t=e(this),n=t.data("only-countries").split(",");n.includes("all")?n=o:n.includes("european")&&(n=(n=n.remove("european")).concat(i));var a=t.data("preffered-countries").split(","),r=t.data("default-country"),l=Boolean(t.data("allow-dropdown")),u=Boolean(t.data("national-mode")),d=Boolean(t.data("auto-hide-dial-code")),s=t.data("exclude-countries");s&&(s=s.split(","));var c=Boolean(t.data("allow-ip-lookup"));c?(c=function(t,n){e.get("https://ipinfo.io",(function(){}),"jsonp").always((function(n){var e=n&&n.country?n.country:r;t(e)}))},r="auto"):c=null;var f=Boolean(t.data("separate-dial-code")),p=Boolean(t.data("format-on-display"));t.intlTelInput({initialCountry:r,preferredCountries:a,onlyCountries:n,allowDropdown:l,nationalMode:u,autoHideDialCode:d,excludeCountries:s,geoIpLookup:c,separateDialCode:f,formatOnDisplay:p,utilsScript:"../../vendor/intl-tel-input-master/build/js/utils.js"})}))}});e((function(){return new t}))})),e(window).on("load",(function(){var t,n=Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("fields"),"change:modelValue",this.syncPhoneNumber),this.listenTo(Backbone.Radio.channel("fields"),"before:submit",this.submitForm)},syncPhoneNumber:function(n){if(""!==n.attributes.value&&!isNaN(Number(n.attributes.value))){var o=n.get("id"),i=e("#nf-field-"+o),a=i.parents("nf-field");t=a.find("#nf-field-"+o+"-hidden");var r=a.find(".iti__selected-flag").attr("title").match(/[+\d]+/g).join("");t.val(r+i.val())}},submitForm:function(n){n.attributes.value=t.val()}});e((function(){return new n}))}))}()})();