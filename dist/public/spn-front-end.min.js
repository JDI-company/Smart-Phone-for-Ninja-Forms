(()=>{function t(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Array.prototype.remove=function(t){return this.filter((function(e){return e!==t}))};var n,r=jQuery,o=(function(t){if(Array.isArray(t))return e(t)}(n=window.intlTelInputGlobals.getCountryData())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t.iso2})),a=["al","ad","at","by","be","ba","bg","hr","cz","dk","ee","fo","fi","fr","de","gi","gr","va","hu","is","ie","it","lv","li","lt","lu","mk","mt","md","mc","me","nl","no","pl","pt","ro","ru","sm","rs","sk","si","es","se","ch","ua","gb"];function i(t){var e=t.find('.spn-container input[type="tel"]');r(e).each((function(){var t=r(this),e=t.data("only-countries").split(",");e.includes("all")?e=o:e.includes("european")&&(e=(e=e.remove("european")).concat(a));var n=t.data("preffered-countries").split(","),i=t.data("default-country"),l=Boolean(t.data("allow-dropdown")),u=Boolean(t.data("national-mode")),s=Boolean(t.data("auto-hide-dial-code")),c=t.data("exclude-countries");c&&(c=c.split(","));var d=Boolean(t.data("allow-ip-lookup"));d?(d=function(t,e){r.get("https://ipinfo.io",(function(){}),"jsonp").always((function(e){var n=e&&e.country?e.country:i;t(n)}))},i="auto"):d=null;var f=Boolean(t.data("separate-dial-code")),p=Boolean(t.data("format-on-display"));t.intlTelInput({initialCountry:i,preferredCountries:n,onlyCountries:e,allowDropdown:l,nationalMode:u,autoHideDialCode:s,excludeCountries:c,geoIpLookup:d,separateDialCode:f,formatOnDisplay:p,utilsScript:"../../vendor/intl-tel-input-master/build/js/utils.js"})}))}!function(){"use strict";var e;new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("form"),"render:view",this._initInputOnFormLoad)},_initInputOnFormLoad:function(e){var n=r(e.el);i(n);var o=n.parent()[0];new MutationObserver((function(e){var r,o=function(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=t(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var t=r.next();return l=t.done,t},e:function(t){u=!0,i=t},f:function(){try{l||null==r.return||r.return()}finally{if(u)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){"childList"===r.value.type&&i(n)}}catch(t){o.e(t)}finally{o.f()}})).observe(o,{attributes:!0,childList:!0,subtree:!0})}})),new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("fields"),"change:modelValue",this.syncPhoneNumber),this.listenTo(Backbone.Radio.channel("fields"),"before:submit",this.submitForm)},syncPhoneNumber:function(t){if("spn"===t.get("type")&&""!==t.get("value")&&!isNaN(Number(t.get("value")))){var n=t.get("id"),o=r("#nf-field-"+n),a=o.parents("nf-field");e=a.find("#nf-field-"+n+"-hidden");var i=a.find(".iti__selected-flag").attr("title").match(/[+\d]+/g).join("");e.val(i+o.val())}},submitForm:function(t){"spn"===t.get("type")&&t.set("value",e.val())}}))}()})();