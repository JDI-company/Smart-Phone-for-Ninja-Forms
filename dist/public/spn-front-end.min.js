(()=>{function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}Array.prototype.remove=function(t){return this.filter((function(e){return e!==t}))};var e,n=jQuery,o=(function(e){if(Array.isArray(e))return t(e)}(e=window.intlTelInputGlobals.getCountryData())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t.iso2})),a=["al","ad","at","by","be","ba","bg","hr","cz","dk","ee","fo","fi","fr","de","gi","gr","va","hu","is","ie","it","lv","li","lt","lu","mk","mt","md","mc","me","nl","no","pl","pt","ro","ru","sm","rs","sk","si","es","se","ch","ua","gb"];!function(){"use strict";var t;new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("form"),"render:view",this.initInputOnFormLoad)},initInputOnFormLoad:function(t){var e=n(t.el).find('.spn-container input[type="tel"]');n(e).each((function(){var t=n(this),e=t.data("only-countries").split(",");e.includes("all")?e=o:e.includes("european")&&(e=(e=e.remove("european")).concat(a));var i=t.data("preffered-countries").split(","),r=t.data("default-country"),l=Boolean(t.data("allow-dropdown")),u=Boolean(t.data("national-mode")),s=Boolean(t.data("auto-hide-dial-code")),d=t.data("exclude-countries");d&&(d=d.split(","));var c=Boolean(t.data("allow-ip-lookup"));c?(c=function(t,e){n.get("https://ipinfo.io",(function(){}),"jsonp").always((function(e){var n=e&&e.country?e.country:r;t(n)}))},r="auto"):c=null;var f=Boolean(t.data("separate-dial-code")),p=Boolean(t.data("format-on-display"));t.intlTelInput({initialCountry:r,preferredCountries:i,onlyCountries:e,allowDropdown:l,nationalMode:u,autoHideDialCode:s,excludeCountries:d,geoIpLookup:c,separateDialCode:f,formatOnDisplay:p,utilsScript:"../../vendor/intl-tel-input-master/build/js/utils.js"})}))}})),new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("fields"),"change:modelValue",this.syncPhoneNumber),this.listenTo(Backbone.Radio.channel("fields"),"before:submit",this.submitForm)},syncPhoneNumber:function(e){if("spn"===e.get("type")&&""!==e.get("value")&&!isNaN(Number(e.get("value")))){var o=e.get("id"),a=n("#nf-field-"+o),i=a.parents("nf-field");t=i.find("#nf-field-"+o+"-hidden");var r=i.find(".iti__selected-flag").attr("title").match(/[+\d]+/g).join("");t.val(r+a.val())}},submitForm:function(e){"spn"===e.get("type")&&e.set("value",t.val())}}))}()})();